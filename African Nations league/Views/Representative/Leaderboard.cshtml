@model List<African_Nations_league.Models.LeaderboardEntry>

@{
    ViewData["Title"] = "Top Scorers";
}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />

<style>
    :root {
        --caf-green: #126035;
        --caf-gold: #f1c232;
        --caf-red: #c8102e;
        --muted: #6c757d;
        --page-bg: #fbfcfb;
        --card-bg: #ffffff;
        --shadow: 0 10px 30px rgba(12,20,30,0.06);
        --radius: 10px;
    }

    body {
        background: var(--page-bg);
        font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
        color: #222;
    }

    .leaderboard-container {
        max-width: 1100px;
        margin: 30px auto;
        padding: 20px;
    }

    h2.page-title {
        color: var(--caf-green);
        font-weight: 800;
        margin-bottom: 10px;
    }

    .subtitle {
        color: var(--muted);
        margin-bottom: 20px;
    }

    .leaderboard-table {
        background: var(--card-bg);
        border-radius: var(--radius);
        overflow: hidden;
        box-shadow: var(--shadow);
        border: 2px solid rgba(200,16,46,0.06);
    }

    table.table-striped thead th {
        background: linear-gradient(90deg, rgba(18,96,53,0.06), rgba(18,96,53,0.02));
        color: var(--caf-green);
        font-weight: 700;
        border-top: 0;
    }

    table.table-striped tbody tr {
        transition: background .15s ease, transform .1s ease;
    }

        table.table-striped tbody tr:hover {
            background: rgba(18,96,53,0.03);
            transform: translateY(-1px);
        }

    .rank-badge {
        display: inline-block;
        width: 28px;
        height: 28px;
        border-radius: 50%;
        font-weight: 800;
        text-align: center;
        line-height: 28px;
        color: #fff;
        background: var(--caf-green);
    }

    /* Gold/Silver/Bronze for top 3 */
    .rank-1 {
        background: var(--caf-gold);
        color: #111;
    }

    .rank-2 {
        background: silver;
        color: #111;
    }

    .rank-3 {
        background: #cd7f32;
        color: #fff;
    }

    .team-cell, .player-cell {
        display: flex;
        align-items: center;
        gap: 10px;
    }

        .team-cell img, .player-cell img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            border: 1px solid rgba(0,0,0,0.05);
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }

    td {
        vertical-align: middle;
        font-size: 0.98rem;
    }

        td strong {
            color: var(--caf-green);
        }

        /* Goals column */
        td.goals-col {
            font-weight: 800;
            color: var(--caf-red);
            font-size: 1.1rem;
        }

    /* Empty state */
    .empty-state {
        padding: 28px;
        text-align: center;
        color: var(--muted);
        background: linear-gradient(180deg, #fff, #fbfbfb);
        border-radius: 8px;
        border: 1px dashed rgba(18,96,53,0.06);
    }

    /* Responsive */
    @@media (max-width: 767.98px) {
        .leaderboard-table {
            border: none;
            box-shadow: none;
        }

        table {
            font-size: 0.9rem;
        }

        .team-cell img, .player-cell img {
            width: 34px;
            height: 34px;
        }

        .rank-badge {
            width: 24px;
            height: 24px;
            line-height: 24px;
            font-size: 0.9rem;
        }
    }
</style>

<div class="leaderboard-container">
    <h2 class="page-title">🏆 Top Scorers</h2>
    <p class="subtitle">The leading goal scorers of the tournament so far.</p>

    <div class="table-responsive leaderboard-table">
        @if (Model == null || Model.Count == 0)
        {
            <div class="empty-state">No scorers yet.</div>
        }
        else
        {
            <table class="table table-striped align-middle mb-0">
                <thead>
                    <tr>
                        <th style="width:60px;">#</th>
                        <th>Team</th>
                        <th>Player</th>
                        <th>Goals</th>
                    </tr>
                </thead>
                <tbody>
                    @for (int i = 0; i < Model.Count; i++)
                    {
                        var item = Model[i];
                        var rankClass = i == 0 ? "rank-1" : i == 1 ? "rank-2" : i == 2 ? "rank-3" : "";

                        <tr>
                            <td>
                                <span class="rank-badge @rankClass">@(i + 1)</span>
                            </td>
                            <td>
                                <div class="team-cell">
                                    @if (!string.IsNullOrEmpty(item.TeamFlag))
                                    {
                                        <img src="@item.TeamFlag" alt="@item.TeamName" />
                                    }
                                    <span><strong>@item.TeamName</strong></span>
                                </div>
                            </td>
                            <td>
                                <div class="player-cell">
                                    @if (!string.IsNullOrEmpty(item.PlayerPicture))
                                    {
                                        <img src="@item.PlayerPicture" alt="@item.PlayerName" />
                                    }
                                    <span>@item.PlayerName</span>
                                </div>
                            </td>
                            <td class="goals-col">@item.Goals</td>
                        </tr>
                    }
                </tbody>
            </table>
        }
    </div>
</div>